<!DOCTYPE html>
<html lang="pt-br" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Flashcards Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Definindo as vari√°veis de cor para os temas */
        :root {
            /* Light Theme */
            --bg-color: #f0f2f5;
            --text-color-primary: #1a202c;
            --text-color-secondary: #4a5568;
            --card-bg-front: #ffffff;
            --card-bg-back: #e0e7ff; /* Azul beb√™ claro */
            --button-start-color: #6a8dff; /* Azul para gradiente */
            --button-end-color: #4a6ee2;
            --button-hover-start-color: #5a7add;
            --button-hover-end-color: #3a5cc2;
            --button-text-color: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.15);
        }

        .dark {
            /* Dark Theme */
            --bg-color: #1a202c; /* Preto/Cinza escuro */
            --text-color-primary: #e2e8f0;
            --text-color-secondary: #a0aec0;
            --card-bg-front: #2d3748; /* Cinza escuro para card */
            --card-bg-back: #5c6bc0; /* Azul beb√™ escuro */
            --button-start-color: #4c5e9b; /* Azul mais escuro para gradiente */
            --button-end-color: #3a4b7d;
            --button-hover-start-color: #3b4c8a;
            --button-hover-end-color: #2a3b6d;
            --button-text-color: #e2e8f0; /* Texto claro para bot√µes no tema escuro */
            --shadow-color: rgba(0, 0, 0, 0.4);
        }

        /* Aplica√ß√£o das vari√°veis de cor */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .flashcard-container {
            perspective: 1000px;
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin-bottom: 24px;
        }
        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s ease;
            border-radius: 1.25rem;
            box-shadow: 0 15px 30px var(--shadow-color);
            cursor: pointer;
            will-change: transform;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2.5rem;
            text-align: center;
            border-radius: 1.25rem;
            box-sizing: border-box;
            font-size: 2.25rem;
            font-weight: 700;
            word-wrap: break-word;
            overflow: hidden;
            background-color: var(--card-bg-front); /* Cor do card base */
            color: var(--text-color-primary); /* Cor do texto do card */
        }
        .flashcard-back {
            background-color: var(--card-bg-back); /* Cor do verso do card */
            transform: rotateY(180deg);
        }

        .phonetic-text {
            font-size: 1.2rem;
            margin-top: 0.75rem;
            font-weight: 400;
            line-height: 1.4;
            color: var(--text-color-secondary); /* Cor do texto fon√©tico */
        }

        /* Estilo dos bot√µes de navega√ß√£o */
        .nav-button {
            @apply px-8 py-4 font-semibold rounded-xl shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-4;
            min-width: 120px;
            background-image: linear-gradient(to right, var(--button-start-color), var(--button-end-color));
            color: var(--button-text-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* Sombra padr√£o mais neutra */
        }
        .nav-button:hover {
            background-image: linear-gradient(to right, var(--button-hover-start-color), var(--button-hover-end-color));
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        .nav-button:focus {
            outline: none; /* Remove outline padr√£o do navegador */
            box-shadow: 0 0 0 4px var(--button-start-color); /* Anel de foco mais vis√≠vel */
        }
        .dark .nav-button:focus {
             box-shadow: 0 0 0 4px var(--button-start-color); /* Anel de foco para tema escuro */
        }


        .theme-toggle-button {
            @apply p-3 rounded-full shadow-md transition-colors duration-300 ease-in-out flex items-center justify-center;
            font-size: 1.5rem;
            width: 48px;
            height: 48px;
            background-color: var(--card-bg-front); /* Cor de fundo do bot√£o de tema */
            color: var(--text-color-secondary); /* Cor do √≠cone do bot√£o de tema */
            border: 1px solid var(--text-color-secondary); /* Borda sutil */
        }
        .theme-toggle-button:hover {
            opacity: 0.8;
        }

        /* Mobile adjustments */
        @media (max-width: 640px) {
            body {
                padding: 16px;
            }
            .flashcard-container {
                height: 280px;
                margin-bottom: 20px;
            }
            .flashcard-front, .flashcard-back {
                font-size: 1.8rem;
                padding: 1.75rem;
            }
            .phonetic-text {
                font-size: 1rem;
            }
            .nav-button {
                @apply px-6 py-3 text-lg;
                min-width: unset;
                width: 100%;
            }
            .flex-col-reverse-sm {
                flex-direction: column-reverse;
            }
            .mt-8-sm {
                margin-top: 2rem;
            }
            .theme-toggle-button {
                top: 16px; /* Ajuste para mobile */
                right: 16px; /* Ajuste para mobile */
            }
        }
    </style>
</head>
<body class="light">

    <div class="max-w-xl w-full flex flex-col items-center">
        <h1 class="text-4xl font-bold mb-8 mt-8-sm text-center">
            English Flashcards <span class="text-blue-600 dark:text-blue-400">üá¨üáß</span>
        </h1>

        <button id="theme-toggle" class="theme-toggle-button absolute top-4 right-4 sm:top-6 sm:right-6">
            <span id="theme-icon">‚òÄÔ∏è</span>
        </button>

        <div id="flashcard-container" class="flashcard-container">
            <div id="flashcard" class="flashcard">
                <div id="flashcard-front" class="flashcard-front"></div>
                <div id="flashcard-back" class="flashcard-back"></div>
            </div>
        </div>

        <div id="card-counter" class="text-md font-medium text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300">
            1 de 1
        </div>

        <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-6 w-full justify-center">
            <button id="prev-btn" class="nav-button">Anterior</button>
            <button id="next-btn" class="nav-button">Pr√≥ximo</button>
        </div>
    </div>

    <script>
        // Array of flashcard data (English: front, Phonetic: phonetic pronunciation / advanced version, Portuguese: back)
        const flashcards = [
            // Phrases with specific phonetics
            { english: "I am on my way", phonetic: "Amon mauei", portuguese: "Estou a caminho." },
            { english: "Do you want to?", phonetic: "Djuana", portuguese: "Voc√™ quer?" },
            { english: "Look at you", phonetic: "Luketchu", portuguese: "Olha voc√™!" },
            { english: "Take care", phonetic: "Teik√©rr", portuguese: "Cuide-se!" },
            { english: "This is not", phonetic: "Sisn√≥h", portuguese: "Isso n√£o √©." },

            // Basic / Advanced Pairs
            { english: "I'm sorry (Basic)", phonetic: "My bad (Advanced)", portuguese: "Sinto muito." },
            { english: "I'll pay (Basic)", phonetic: "It's on me (Advanced)", portuguese: "Eu pago." },
            { english: "You're right (Basic)", phonetic: "Good point (Advanced)", portuguese: "Voc√™ est√° certo." },
            { english: "Wait a moment (Basic)", phonetic: "Hang on (Advanced)", portuguese: "Espere um momento." },
            { english: "I finished (Basic)", phonetic: "I'm done (Advanced)", portuguese: "Eu terminei." },
            { english: "I'm fine (Basic)", phonetic: "I'm well (Advanced)", portuguese: "Estou bem." },
            { english: "Thanks (Basic)", phonetic: "Cheers (Advanced)", portuguese: "Obrigado!" },
            { english: "Good (Basic)", phonetic: "Amazing (Advanced)", portuguese: "Bom." },
            { english: "Sorry (Basic)", phonetic: "My bad (Advanced)", portuguese: "Desculpe." },
            { english: "Goodbye (Basic)", phonetic: "I'm off (Advanced)", portuguese: "Adeus." },
            { english: "Yes (Basic)", phonetic: "Yep (Advanced)", portuguese: "Sim." },
            { english: "No! (Basic)", phonetic: "Nah! (Advanced)", portuguese: "N√£o!" },
            { english: "Stop it (Basic)", phonetic: "Cut it out (Advanced)", portuguese: "Pare com isso." },
            { english: "Bye (Basic)", phonetic: "Toodles (Advanced)", portuguese: "Tchau." },
            { english: "I forgot it (Basic)", phonetic: "It slipped my mind (Advanced)", portuguese: "Eu esqueci." },
            { english: "I feel sad (Basic)", phonetic: "I feel blue (Advanced)", portuguese: "Eu me sinto triste." },
            { english: "Hurry up (Basic)", phonetic: "Chop-chop (Advanced)", portuguese: "Ande logo!" },
            { english: "Calm down (Basic)", phonetic: "Chill out (Advanced)", portuguese: "Acalme-se." },
            { english: "I understand (Basic)", phonetic: "I gotcha (Advanced)", portuguese: "Eu entendo." },
            { english: "Let's go (Basic)", phonetic: "Let's bounce (Advanced)", portuguese: "Vamos." },
            { english: "It's okay (Basic)", phonetic: "No biggie (Advanced)", portuguese: "Est√° tudo bem." },
            { english: "I'm serious (Basic)", phonetic: "I mean it (Advanced)", portuguese: "Estou falando s√©rio." },

            // Chat like a pro
            { english: "10Q", phonetic: "Thank you.", portuguese: "Obrigado." },
            { english: "CU", phonetic: "See you.", portuguese: "At√© mais." },
            { english: "IDK", phonetic: "I don't know.", portuguese: "Eu n√£o sei." }, // Corrected: This was duplicated with "I don't care"
            { english: "4U", phonetic: "For you.", portuguese: "Para voc√™." },
            { english: "IDC", phonetic: "I don't care.", portuguese: "N√£o me importo." }, // Corrected: Changed from IDK to IDC for clarity
            { english: "ILY", phonetic: "I love you.", portuguese: "Eu te amo." },
            { english: "OMG", phonetic: "Oh my God!", portuguese: "Oh meu Deus!" },
            { english: "THX", phonetic: "Thanks", portuguese: "Obrigado." }, // Corrected: Phonetic was '???????'
            { english: "NM", phonetic: "Not much.", portuguese: "N√£o muito." },
            { english: "ATM", phonetic: "At the moment.", portuguese: "No momento." },
            { english: "BTW", phonetic: "By the way.", portuguese: "A prop√≥sito." },
            { english: "LOL", phonetic: "Laugh out loud.", portuguese: "Rir alto." },
            { english: "NVM", phonetic: "Never mind.", portuguese: "Deixa pra l√°." },
            { english: "PPL", phonetic: "People.", portuguese: "Pessoas." },
            { english: "TTYL", phonetic: "Talk to you later", portuguese: "Falo com voc√™ mais tarde." },
            { english: "Wdym?", phonetic: "What do you mean?", portuguese: "O que voc√™ quer dizer?" },
            { english: "IKR", phonetic: "I know, right", portuguese: "Eu sei, n√©?" }, // Corrected: from Lkr to IKR
            { english: "ASAP", phonetic: "As soon as possible", portuguese: "Assim que poss√≠vel." }, // Corrected: from Asap to ASAP
            { english: "IDC", phonetic: "I don't care", portuguese: "N√£o me importo." }, // Corrected: from Idc to IDC

            // Informal VS Formal
            { english: "Informal: Also / Formal: Furthermore", phonetic: "", portuguese: "Informal: Tamb√©m / Formal: Al√©m disso" }, // Combined to one English field
            { english: "Informal: Ask / Formal: Inquire", phonetic: "", portuguese: "Informal: Perguntar / Formal: Inquirir" },
            { english: "Informal: A lot / Formal: Numerous", phonetic: "", portuguese: "Informal: Muito / Formal: Numerosos" },
            { english: "Informal: Hang on / Formal: Wait", phonetic: "", portuguese: "Informal: Espera / Formal: Espere" },
            { english: "Informal: Help / Formal: Assist", phonetic: "", portuguese: "Informal: Ajuda / Formal: Auxiliar" },
            { english: "Informal: But / Formal: However", phonetic: "", portuguese: "Informal: Mas / Formal: No entanto" },

            // To sit variations
            { english: "Can I sit here?", phonetic: "Can I sit here?", portuguese: "Posso sentar aqui?" },
            { english: "Could I sit here?", phonetic: "Could I sit here?", portuguese: "Poderia sentar aqui?" },
            { english: "Is this seat free?", phonetic: "Is this seat free?", portuguese: "Este assento est√° livre?" },
            { english: "Is it okay if I sit here?", phonetic: "Is it ok if I sit here?", portuguese: "Est√° tudo bem se eu sentar aqui?" },
            { english: "Is this seat taken?", phonetic: "Is this seat taken?", portuguese: "Este assento est√° ocupado?" },
            { english: "May I?", phonetic: "May I?", portuguese: "Posso?" },

            // Basic / Advanced Pairs (from table) - Some English terms simplified for front card
            { english: "How are you? (Basic)", phonetic: "How have you been? (Advanced)", portuguese: "Como voc√™ est√°?" },
            { english: "I am fine. (Basic)", phonetic: "I'm doing great, thanks for asking! (Advanced)", portuguese: "Estou bem." },
            { english: "What are you doing? (Basic)", phonetic: "What are you up to? (Advanced)", portuguese: "O que voc√™ est√° fazendo?" },
            { english: "Nice to meet you. (Basic)", phonetic: "Pleasure to meet you. (Advanced)", portuguese: "Prazer em conhec√™-lo(a)." },
            { english: "I woke up late. (Basic)", phonetic: "I overslept today. (Advanced)", portuguese: "Eu acordei tarde." },
            { english: "I am eating lunch. (Basic)", phonetic: "I'm grabbing a quick bite. (Advanced)", portuguese: "Estou almo√ßando." },
            { english: "I am very busy. (Basic)", phonetic: "I'm swamped with work. (Advanced)", portuguese: "Estou muito ocupado." },
            { english: "Let's go outside. (Basic)", phonetic: "Let's step out for some fresh air. (Advanced)", portuguese: "Vamos l√° fora." },
            { english: "I am happy. (Basic)", phonetic: "I'm on cloud nine. (Advanced)", portuguese: "Estou feliz." },
            { english: "I am sad. (Basic)", phonetic: "I'm feeling down. (Advanced)", portuguese: "Estou triste." },
            { english: "I don't know. (Basic)", phonetic: "I have no clue. (Advanced)", portuguese: "Eu n√£o sei." },
            { english: "It's very important. (Basic)", phonetic: "It's absolutely crucial. (Advanced)", portuguese: "√â muito importante." },
            { english: "Help me. (Basic)", phonetic: "Could you lend me a hand? (Advanced)", portuguese: "Me ajude." },
            { english: "Wait a minute. (Basic)", phonetic: "Hold on for a sec. (Advanced)", portuguese: "Espere um minuto." },
            { english: "Can you repeat? (Basic)", phonetic: "Could you say that again? (Advanced)", portuguese: "Voc√™ pode repetir?" },
            { english: "Let's start. (Basic)", phonetic: "Let's get the ball rolling. (Advanced)", portuguese: "Vamos come√ßar." },
            { english: "I am tired. (Basic)", phonetic: "I'm completely worn out. (Advanced)", portuguese: "Estou cansado." },
            { english: "It's too expensive. (Basic)", phonetic: "It costs a fortune. (Advanced)", portuguese: "√â muito caro." },
            { english: "I'm going to sleep. (Basic)", phonetic: "I'm hitting the sack. (Advanced)", portuguese: "Vou dormir." },
            { english: "I understand. (Basic)", phonetic: "That makes sense. (Advanced)", portuguese: "Eu entendo." },

            // Symbols
            { english: "@", phonetic: "At", portuguese: "Arroba" },
            { english: "/", phonetic: "Slash", portuguese: "Barra" },
            { english: "*", phonetic: "Asterisk", portuguese: "Asterisco" },
            { english: "-", phonetic: "Hyphen", portuguese: "H√≠fen" },
            { english: "_", phonetic: "Underscore", portuguese: "Sublinhado" },
            { english: ".", phonetic: "Dot", portuguese: "Ponto" },
            { english: ",", phonetic: "Comma", portuguese: "V√≠rgula" },
            { english: ":", phonetic: "Colon", portuguese: "Dois pontos" },
            { english: ";", phonetic: "Semicolon", portuguese: "Ponto e v√≠rgula" },

            // Ways to say Thank you
            { english: "Thank you (A1)", phonetic: "Thank you", portuguese: "Obrigado (A1)" },
            { english: "Thanks a lot (A2)", phonetic: "Thanks a lot", portuguese: "Muito obrigado (A2)" },
            { english: "I appreciate it (B1)", phonetic: "I appreciate it", portuguese: "Eu aprecio (B1)" },
            { english: "I'm so grateful (B2)", phonetic: "I'm so grateful", portuguese: "Sou muito grato (B2)" },
            { english: "I owe you one (C1)", phonetic: "I owe you one", portuguese: "Te devo uma (C1)" },

            // Don't Say / Instead Say
            { english: "Don't Say: \"I don't know\" / Instead Say: \"I'll check.\"", phonetic: "", portuguese: "N√£o diga: \"Eu n√£o sei\" / Em vez disso, diga: \"Eu vou verificar.\"" },
            { english: "Don't Say: \"Thanks for that.\" / Instead Say: \"I appreciate it.\"", phonetic: "", portuguese: "N√£o diga: \"Obrigado por isso.\" / Em vez disso, diga: \"Eu aprecio.\"" },
            { english: "Don't Say: \"Sorry I missed that.\" / Instead Say: \"Could you repeat that?\"", phonetic: "", portuguese: "N√£o diga: \"Desculpe, perdi isso.\" / Em vez disso, diga: \"Voc√™ poderia repetir isso?\"" },
            { english: "Don't Say: \"Sorry I'm late.\" / Instead Say: \"Thanks for your patience.\"", phonetic: "", portuguese: "N√£o diga: \"Desculpe o atraso.\" / Em vez disso, diga: \"Obrigado pela sua paci√™ncia.\"" },
            { english: "Don't Say: \"That's not my job.\" / Instead Say: \"I'll find the right help.\"", phonetic: "", portuguese: "N√£o diga: \"Isso n√£o √© meu trabalho.\" / Em vez disso, diga: \"Vou encontrar a ajuda certa.\"" },
            { english: "Don't Say: \"You're wrong.\" / Instead Say: \"I see it differently.\"", phonetic: "", portuguese: "N√£o diga: \"Voc√™ est√° errado.\" / Em vez disso, diga: \"Eu vejo de forma diferente.\"" },
            { english: "Don't Say: \"I'm too busy.\" / Instead Say: \"I'll help later.\"", phonetic: "", portuguese: "N√£o diga: \"Estou muito ocupado.\" / Em vez disso, diga: \"Ajudarei mais tarde.\"" },
            { english: "Don't Say: \"No problem.\" / Instead Say: \"Happy to help!\"", phonetic: "", portuguese: "N√£o diga: \"Sem problema.\" / Em vez disso, diga: \"Feliz em ajudar!\"" },
            { english: "Don't Say: \"You should have...\" / Instead Say: \"Next time, let's...\"", phonetic: "", portuguese: "N√£o diga: \"Voc√™ deveria ter...\" / Em vez disso, diga: \"Da pr√≥xima vez, vamos...\"" },
            { english: "Don't Say: \"Sorry to bother you.\" / Instead Say: \"Got a sec?\"", phonetic: "", portuguese: "N√£o diga: \"Desculpe incomodar.\" / Em vez disso, diga: \"Tem um segundo?\"" },
            { english: "Don't Say: \"I don't understand.\" / Instead Say: \"Can you clarify?\"", phonetic: "", portuguese: "N√£o diga: \"Eu n√£o entendo.\" / Em vez disso, diga: \"Voc√™ pode esclarecer?\"" },

            // Times of Day (Corrected to be English on front, Portuguese on back)
            { english: "Sunrise", phonetic: "", portuguese: "Nascer do sol" },
            { english: "Morning", phonetic: "", portuguese: "Manh√£" },
            { english: "Noon", phonetic: "", portuguese: "Meio dia" },
            { english: "Afternoon", phonetic: "", portuguese: "Tarde" },
            { english: "Sunset", phonetic: "", portuguese: "P√¥r do sol" },
            { english: "Dusk", phonetic: "", portuguese: "Anoitecer" },
            { english: "Evening", phonetic: "", portuguese: "Fim de tarde" },
            { english: "Night", phonetic: "", portuguese: "Noite" },
            { english: "Midnight", phonetic: "", portuguese: "Meia noite" },
            { english: "Dawn", phonetic: "", portuguese: "Madrugada" },

            // Present Past Future (verbs) - Corrected to be English on front, Portuguese on back
            { english: "I think", phonetic: "", portuguese: "Eu penso" },
            { english: "I thought", phonetic: "", portuguese: "Eu pensei" },
            { english: "I will think", phonetic: "", portuguese: "Eu pensarei" },
            { english: "I sell", phonetic: "", portuguese: "Eu vendo" },
            { english: "I sold", phonetic: "", portuguese: "Eu vendi" },
            { english: "I will sell", phonetic: "", portuguese: "Eu venderei" },
            { english: "I enjoy", phonetic: "", portuguese: "Eu aproveito" },
            { english: "I enjoyed", phonetic: "", portuguese: "Eu aproveitei" },
            { english: "I will enjoy", phonetic: "", portuguese: "Eu aproveitarei" },
            { english: "I find", phonetic: "", portuguese: "Eu encontro" },
            { english: "I found", phonetic: "", portuguese: "Eu encontrei" },
            { english: "I will find", phonetic: "", portuguese: "Eu encontrarei" },
            { english: "I call", phonetic: "", portuguese: "Eu chamo" },
            { english: "I called", phonetic: "", portuguese: "Eu chamei" },
            { english: "I will call", phonetic: "", portuguese: "Eu chamarei" },
            { english: "I get", phonetic: "", portuguese: "Eu pego" },
            { english: "I got", phonetic: "", portuguese: "Eu peguei" },
            { english: "I will get", phonetic: "", portuguese: "Eu pegarei" },
            { english: "I forget", phonetic: "", portuguese: "Eu esque√ßo" },
            { english: "I forgot", phonetic: "", portuguese: "Eu esqueci" },
            { english: "I will forget", phonetic: "", portuguese: "Eu esquecerei" },
            { english: "I buy", phonetic: "", portuguese: "Eu compro" },
            { english: "I bought", phonetic: "", portuguese: "Eu comprei" },
            { english: "I will buy", phonetic: "", portuguese: "Eu comprarei" },
            { english: "I play", phonetic: "", portuguese: "Eu brinco" },
            { english: "I played", phonetic: "", portuguese: "Eu brinquei" },
            { english: "I will play", phonetic: "", portuguese: "Eu brincarei" },
            { english: "I work", phonetic: "", portuguese: "Eu trabalho" },
            { english: "I worked", phonetic: "", portuguese: "Eu trabalhei" },
            { english: "I will work", phonetic: "", portuguese: "Eu trabalharei" },
            { english: "I hear", phonetic: "", portuguese: "Eu ou√ßo" },
            { english: "I heard", phonetic: "", portuguese: "Eu ouvi" },
            { english: "I will hear", phonetic: "", portuguese: "Eu ouvirei" },
            { english: "I hide", phonetic: "", portuguese: "Eu escondo" },
            { english: "I hid", phonetic: "", portuguese: "Eu escondi" },
            { english: "I will hide", phonetic: "", portuguese: "Eu esconderei" },
            { english: "I keep", phonetic: "", portuguese: "Eu guardo" },
            { english: "I kept", phonetic: "", portuguese: "Eu guardei" },
            { english: "I will keep", phonetic: "", portuguese: "Eu guardarei" },
            { english: "I break", phonetic: "", portuguese: "Eu quebro" },
            { english: "I broke", phonetic: "Broken", portuguese: "Eu quebrei" },

            // Will contractions (English on front, phonetic, Portuguese on back)
            { english: "I WILL", phonetic: "I'LL /au/", portuguese: "Eu vou" },
            { english: "YOU WILL", phonetic: "YOU'LL /iuu/", portuguese: "Voc√™ vai" },
            { english: "HE WILL", phonetic: "HE'LL /riu/", portuguese: "Ele vai" },
            { english: "SHE WILL", phonetic: "SHE'LL /shiu/", portuguese: "Ela vai" },
            { english: "IT WILL", phonetic: "IT'LL /iriu/", portuguese: "Isso vai" },
            { english: "THEY WILL", phonetic: "THEY'LL /deu/", portuguese: "Eles v√£o" },
            { english: "WE WILL", phonetic: "WE'LL /uiu/", portuguese: "N√≥s vamos" },

            // Informal expressions (from the "Holy Moly" section)
            { english: "Oh My God!", phonetic: "Holy Moly!", portuguese: "Oh meu Deus!" },
            { english: "I forgot.", phonetic: "It slipped my mind.", portuguese: "Eu esqueci." },
            { english: "Excuse me, what did you say?", phonetic: "I'm sorry, come again?", portuguese: "Com licen√ßa, o que voc√™ disse?" },
            { english: "You're so beautiful.", phonetic: "You're drop dead gorgeous.", portuguese: "Voc√™ √© t√£o linda." },
            { english: "Calm down.", phonetic: "Take it easy.", portuguese: "Acalme-se." },
            { english: "I'm listening.", phonetic: "I'm all ears.", portuguese: "Estou ouvindo." },
            { english: "It's not difficult.", phonetic: "It's a piece of cake.", portuguese: "N√£o √© dif√≠cil." },
            { english: "I agree with you.", phonetic: "We're on the same page.", portuguese: "Eu concordo com voc√™." },
            { english: "Thank you very much.", phonetic: "I really appreciate it.", portuguese: "Muito obrigado." },

            // Shortened/Slang phrases (Corrected English/Portuguese fields)
            { english: "It is not", phonetic: "Snot", portuguese: "N√£o √©" },
            { english: "Let us have", phonetic: "Lesav", portuguese: "Deixe-nos ter" },
            { english: "Should have", phonetic: "Shouda", portuguese: "Deveria ter" },
            { english: "I don't know", phonetic: "(i dunno - no ideia - i've no clue - who knows?)", portuguese: "Eu n√£o sei" },
            { english: "Let's go", phonetic: "Skou", portuguese: "Vamos" },
            { english: "Did you", phonetic: "Juh", portuguese: "Voc√™ fez/viu" },
            { english: "Good morning", phonetic: "G morning", portuguese: "Bom dia" },
            { english: "Fifty", phonetic: "FITTEE", portuguese: "Cinquenta" },
            { english: "Something", phonetic: "SU -M", portuguese: "Algo" },
            { english: "Come here", phonetic: "K-mi√£r", portuguese: "Vem aqui" },
            { english: "What are you doing?", phonetic: "W√≥tch√£ duin", portuguese: "O que voc√™ est√° fazendo?" },
            { english: "Let me see that", phonetic: "L√©mi ci d√©", portuguese: "Deixe-me ver isso" },
            { english: "Give me a second", phonetic: "Guemi a s√©c", portuguese: "Me d√™ um segundo" },
            { english: "I am going to go", phonetic: "Aiman√£ go", portuguese: "Eu vou" },
            { english: "Do you have a second?", phonetic: "Jav a sec", portuguese: "Voc√™ tem um segundo?" },
            { english: "Why did you lie?", phonetic: "Why july", portuguese: "Por que voc√™ mentiu?" },
            { english: "I am going to", phonetic: "A - m√£ - na", portuguese: "Eu vou" },
            { english: "Did you have", phonetic: "Dj√©v", portuguese: "Voc√™ teve" },
            { english: "I have got to go", phonetic: "Gotta go", portuguese: "Eu tenho que ir" },
            { english: "What is your", phonetic: "W√≥-tchi√≥r", portuguese: "Qual √© o seu" },
            { english: "Tell her", phonetic: "Tell her", portuguese: "Diga a ela" },
            { english: "Give me", phonetic: "GIMME", portuguese: "Me d√™" },
            { english: "Do you not", phonetic: "Dontcha", portuguese: "Voc√™ n√£o" },
            { english: "I have got to", phonetic: "I gotta", portuguese: "Eu tenho que" },
            { english: "Tell him", phonetic: "TELL - AM", portuguese: "Diga a ele" },
            { english: "Do you want to go?", phonetic: "Dju wanna go?", portuguese: "Voc√™ quer ir?" },
            { english: "I'm grateful", phonetic: "I'm greteful", portuguese: "Sou grato(a)" },
            { english: "Thanks a lot", phonetic: "thanks a lot", portuguese: "Muito obrigado" },
            { english: "Much obliged", phonetic: "much obliged", portuguese: "Muito obrigado" },
            { english: "Endless thanks", phonetic: "endlees thanks", portuguese: "Agradecimentos infinitos" },

            // Even variations (English on front, Portuguese on back)
            { english: "Even so", phonetic: "even so", portuguese: "Mesmo assim" },
            { english: "Even if", phonetic: "even if", portuguese: "Mesmo se" },
            { english: "Even when", phonetic: "even when", portuguese: "Mesmo quando" },
            { english: "Even more", phonetic: "even more", portuguese: "Ainda mais" },
            { english: "Even less", phonetic: "even less", portuguese: "Ainda menos" },
            { english: "Even better", phonetic: "even better", portuguese: "Ainda melhor" },
            { english: "Even worse", phonetic: "uorse", portuguese: "Ainda pior" },
            { english: "Even now", phonetic: "even now", portuguese: "Mesmo agora" },
            { english: "Even then", phonetic: "even then", portuguese: "Mesmo ent√£o" },
            { english: "Even though", phonetic: "even though", portuguese: "Embora" },

            // Words with "ee" sound (English on front, Portuguese on back, phonetic clarified)
            { english: "Words with 'ee' sound (like 'I' in Portuguese)", phonetic: "feet, beet, creep, sleep, deep, sheep, jeep, meet", portuguese: "Palavras com som de 'ee' (como '√ç' em portugu√™s)" },

            // Enjoy
            { english: "Enjoy", phonetic: "", portuguese: "Aproveitar" },

            // Polite requests (English on front, Portuguese on back)
            { english: "Alternatives for 'Can I get'", phonetic: "can i get", portuguese: "Alternativas para 'posso pegar'" },
            { english: "I'll have", phonetic: "i'll have", portuguese: "Vou querer" },
            { english: "Maybe I have", phonetic: "Mayhe i have", portuguese: "Talvez eu possa ter" },

            // Contractions / informal phrases (English on front, Portuguese on back)
            { english: "Let us go now.", phonetic: "Let's go.", portuguese: "Vamos agora." },
            { english: "I am going to eat.", phonetic: "I'm gonna eat.", portuguese: "Vou comer." },
            { english: "I cannot do it.", phonetic: "I can't do it.", portuguese: "N√£o consigo fazer isso." },
            { english: "Do you want to come?", phonetic: "Wanna come?", portuguese: "Quer vir?" },
            { english: "What are you doing?", phonetic: "Whatcha doing?", portuguese: "O que voc√™ est√° fazendo?" },
            { english: "Give me some time.", phonetic: "Gimme some time.", portuguese: "Me d√™ um tempo." },
            { english: "Let me try.", phonetic: "Lemme try.", portuguese: "Deixe-me tentar." },
            { english: "He is not here.", phonetic: "He's not here.", portuguese: "Ele n√£o est√° aqui." },
            { english: "I have to go.", phonetic: "I gotta go.", portuguese: "Eu tenho que ir." },
            { english: "It is kind of funny.", phonetic: "It's kinda funny.", portuguese: "√â meio engra√ßado." },
            { english: "I will tell you.", phonetic: "I'll tell you.", portuguese: "Eu vou te dizer." },
            { english: "Did you see that?", phonetic: "D'you see that?", portuguese: "Voc√™ viu isso?" },
            { english: "I am just looking.", phonetic: "Just looking.", portuguese: "Estou apenas olhando." },
            { english: "Are you okay?", phonetic: "You okay?", portuguese: "Voc√™ est√° bem?" },
            { english: "I am tired.", phonetic: "I'm beat.", portuguese: "Estou cansado." },
            { english: "I do not care.", phonetic: "Don't care.", portuguese: "N√£o me importo." },
            { english: "That is amazing.", phonetic: "That's awesome!", portuguese: "Isso √© incr√≠vel!" },
            { english: "I understand.", phonetic: "Got it.", portuguese: "Eu entendo." },
            { english: "It does not matter.", phonetic: "Doesn't matter.", portuguese: "N√£o importa." },
            { english: "I'm so confused", phonetic: "i'm stumped", portuguese: "Estou muito confuso" },
            { english: "Let me", phonetic: "lemme", portuguese: "Deixe-me" },
            { english: "Know", phonetic: "no", portuguese: "Saber/Conhecer" },
            { english: "Tell me more", phonetic: "Fill me in", portuguese: "Me conte mais" },
            { english: "I understand", phonetic: "I get it", portuguese: "Eu entendo" },
            { english: "I'm hungry", phonetic: "I could eat", portuguese: "Estou com fome" },

            // Wrong x Mistake (Definitions - English on front, Portuguese on back)
            { english: "Wrong (Adjective)", phonetic: "", portuguese: "Errado (adjetivo)" },
            { english: "Your answer is wrong.", phonetic: "Sua resposta est√° errada.", portuguese: "Sua resposta est√° errada." },
            { english: "Mistake (Noun)", phonetic: "", portuguese: "Erro (substantivo)" },
            { english: "I made a mistake.", phonetic: "Eu cometi um erro.", portuguese: "Eu cometi um erro." },

            // Rude vs Gentle (English on front, Portuguese on back)
            { english: "Rude: What? / Gentle: Sorry, what?", phonetic: "", portuguese: "Rude: O qu√™? / Gentil: Desculpe, o qu√™?" },
            { english: "Rude: I want coffee / Gentle: I'll have coffee", phonetic: "(I have a coffee)", portuguese: "Rude: Eu quero caf√© / Gentil: Eu vou querer caf√©" },
            { english: "Rude: Repeat / Gentle: Come again?", phonetic: "", portuguese: "Rude: Repita / Gentil: Pode repetir?" },
            { english: "Rude: Stop the car / Gentle: Here's good", phonetic: "", portuguese: "Rude: Pare o carro / Gentil: Aqui est√° bom" },
            { english: "Mr. Smith (Teacher Smith)", phonetic: "Usar o Mr. para 'Professor'", portuguese: "Professor Smith (use 'Mr.')" },

            // Synonyms (English on front, Portuguese on back)
            { english: "But / However", phonetic: "", portuguese: "Mas" },
            { english: "And / In addition", phonetic: "", portuguese: "E" },
            { english: "Also / Moreover", phonetic: "", portuguese: "Tamb√©m" },
            { english: "So / Therefore", phonetic: "", portuguese: "Ent√£o" },
            { english: "Anyway / Nevertheless", phonetic: "", portuguese: "De qualquer forma" },
            { english: "Angry / Furious", phonetic: "", portuguese: "Bravo" },
            { english: "Lovely / Gracious", phonetic: "", portuguese: "Ador√°vel" },
            { english: "Happy / Delighted", phonetic: "", portuguese: "Feliz" },
            { english: "Hard / Challenging", phonetic: "", portuguese: "Dif√≠cil" },

            // More Slang (English on front, Portuguese on back)
            { english: "Man, shut your ass up!", phonetic: "man shut your ass up", portuguese: "Cale a boca, cara!" },
            { english: "I'll make it up to you", phonetic: "I'll make it up for you", portuguese: "Eu vou te compensar" },
            { english: "Forgive me", phonetic: "Forgive me", portuguese: "Me perdoe" },

            // Christian Slang (English on front, phonetic, Portuguese on back)
            { english: "God forbid!", phonetic: "G√°d - d mudo - forbiid", portuguese: "Deus me livre!" },
            { english: "God Willing!", phonetic: "G√°d u√≠lin!", portuguese: "Se Deus quiser!" },
            { english: "God bless!", phonetic: "G√°d - d mudo", portuguese: "Deus aben√ßoe!" },

            // Grammar notes (English on front, Portuguese explanation on back)
            { english: "\"Will\" and \"going to\" are mostly interchangeable.", phonetic: "Nobody cares if you use both.", portuguese: "\"Will\" e \"going to\" s√£o basicamente a mesma coisa." },
            { english: "Many vs. Much: Use \"a lot of\" for both.", phonetic: "Just use (A LOT of)", portuguese: "Many vs. Much: Use \"A LOT of\" para ambos." },

            // Portuguese to English Verb Conjugations (English on front, Portuguese on back)
            { english: "I am", phonetic: "Eu sou", portuguese: "üáßüá∑ Eu sou" },
            { english: "I was", phonetic: "Eu era", portuguese: "üáßüá∑ Eu era" },
            { english: "I do", phonetic: "Eu fa√ßo", portuguese: "üáßüá∑ Eu fa√ßo" },
            { english: "I did", phonetic: "Eu fiz", portuguese: "üáßüá∑ Eu fiz" },
            { english: "I go", phonetic: "Eu vou", portuguese: "üáßüá∑ Eu vou" },
            { english: "I went", phonetic: "Eu fui", portuguese: "üáßüá∑ Eu fui" },
            { english: "I have", phonetic: "Eu tenho", portuguese: "üáßüá∑ Eu tenho" },
            { english: "I had", phonetic: "Eu tinha", portuguese: "üáßüá∑ Eu tinha" },

            // Finger names (English on front, phonetic (if applicable), Portuguese on back)
            { english: "Pinky", phonetic: "", portuguese: "üáßüá∑ Mindinho" },
            { english: "Ring finger", phonetic: "", portuguese: "üáßüá∑ Anelar" },
            { english: "Middle finger", phonetic: "", portuguese: "üáßüá∑ Do meio" },
            { english: "Index finger", phonetic: "", portuguese: "üáßüá∑ Indicador" },
            { english: "Thumb", phonetic: "", portuguese: "üáßüá∑ Ded√£o" },
            { english: "Palm", phonetic: "", portuguese: "üáßüá∑ Palma" },
            { english: "Wrist", phonetic: "", portuguese: "üáßüá∑ Pulso" },

            // Polite ways to ask for a moment (English on front, Portuguese on back)
            { english: "Could you hold on for a moment?", phonetic: "Could you hold on for am moment?", portuguese: "Voc√™ poderia esperar um momento?" },
            { english: "Hang on a second, please.", phonetic: "Hang on a second, please", portuguese: "Espere um segundo, por favor." },
            { english: "I'll be right with you, okay?", phonetic: "I'll be right with you, okay?", portuguese: "J√° te atendo, ok?" },

            // Portuguese to English phrases with phonetics (English on front, phonetic, Portuguese on back)
            { english: "Come here", phonetic: "C√ÇM R√çR", portuguese: "VEM AQUI" },
            { english: "No need", phonetic: "N√îU N√çD", portuguese: "N√ÉO H√Å NECESSIDADE" },
            { english: "This is for you", phonetic: "D√çS IS F√ìR I√ö", portuguese: "ISSO √â PRA VOC√ä" },
            { english: "Can you go?", phonetic: "K√âN I√ö G√ì?", portuguese: "VOC√ä PODE IR?" },
            { english: "See you", phonetic: "C√ç I√ö", portuguese: "AT√â MAIS" },
            { english: "In a while", phonetic: "√çN A W√ÅIL", portuguese: "EM UM MOMENTO" },
            { english: "Are you ready?", phonetic: "√ÅR I√ö R√âD√ç?", portuguese: "VOC√ä EST√Å PRONTO(A)?" },
            { english: "I don't understand", phonetic: "√ÅI D√îN'T ANDERST√äND", portuguese: "EU N√ÉO ENTENDO" },
            { english: "Can you help me?", phonetic: "K√âN I√ö H√âLP M√ç?", portuguese: "VOC√ä PODE ME AJUDAR?" },
            { english: "How much is this?", phonetic: "R√ÅU M√ÅTCH IS THIS?", portuguese: "QUANTO CUSTA ISSO?" },
            { english: "Where is the bathroom?", phonetic: "W√âR IS D√ä B√âFTR√öM?", portuguese: "ONDE EST√Å O BANHEIRO?" },
            { english: "I need help", phonetic: "√ÅI N√çD H√âLP", portuguese: "EU PRECISO DE AJUDA" },
            { english: "Sorry", phonetic: "S√ìRRI", portuguese: "DESCULPE" },
            { english: "Please", phonetic: "PL√çZ", portuguese: "POR FAVOR" },
            { english: "Thank you", phonetic: "F√äNKI√ö", portuguese: "OBRIGADO" },
            { english: "Excuse me", phonetic: "√çKSCI√öZ M√ç", portuguese: "COM LICEN√áA" },
            { english: "I don't speak English very well", phonetic: "√ÅI D√îN'T SP√çK √çNGL√äSH V√âRI U√âL", portuguese: "EU N√ÉO FALO INGL√äS MUITO BEM" },
            { english: "Can you repeat, please?", phonetic: "K√âN I√ö RIP√çT, PL√çZ?", portuguese: "PODE REPETIR, POR FAVOR?" },
            { english: "I'm from...", phonetic: "√ÅIM FROM...", portuguese: "EU SOU DE..." },
            { english: "How are you?", phonetic: "R√ÅU √ÅR I√ö?", portuguese: "COMO VOC√ä EST√Å?" },
            { english: "I'm fine, thank you", phonetic: "√ÅIM F√ÅIN, THAENK I√ö", portuguese: "ESTOU BEM, OBRIGADO" },
            { english: "What's your name?", phonetic: "W√ÅTS I√ìR N√äIM?", portuguese: "QUAL √â O SEU NOME?" },
            { english: "Nice to meet you", phonetic: "N√ÅIS TU M√çT I√ö", portuguese: "PRAZER EM CONHEC√ä-LO(A)" },
            { english: "Where do you live?", phonetic: "W√âR D√ö I√ö L√çV?", portuguese: "ONDE VOC√ä MORA?" },

            // Example phrase (English on front, Portuguese on back)
            { english: "She made a mistake, but cut her some slack.", phonetic: "Ela cometeu um erro, mas pega leve com ela.", portuguese: "Ela cometeu um erro, mas pega leve com ela." },

            // Once, Twice, Many times (English on front, Portuguese on back)
            { english: "Once", phonetic: "", portuguese: "Uma vez" },
            { english: "Twice", phonetic: "", portuguese: "Duas vezes" },
            { english: "Many times", phonetic: "", portuguese: "Muitas vezes" },
            { english: "Sometimes", phonetic: "", portuguese: "Algumas vezes" },
            { english: "Again", phonetic: "", portuguese: "Outra vez" },

            // Object Pronouns (English explanation/examples on front, Portuguese explanation on back)
            { english: "Object Case Personal Pronouns: Used when receiving the action of the verb. Examples: I -> me (He called me); You -> you (I saw you); He -> him (She likes him); She -> her (I helped her); It -> it (We found it); We -> us (They invited us); They -> them (I know them).", phonetic: "", portuguese: "‚úÖ Pronomes Pessoais do Caso Objeto\nüìå O que isso significa?\nS√£o pronomes usados como objeto da frase, ou seja, quando recebem a a√ß√£o do verbo." },

            // Phrases about not speaking English (English on front, Portuguese on back)
            { english: "To talk about not speaking English: I'm trying my best to improve my English", phonetic: "I'm trying my best to improve my English", portuguese: "Para falar sobre n√£o falar ingl√™s: Estou me esfor√ßando para melhorar meu ingl√™s" },

            // Polite way to say "stop" (English on front, Portuguese on back)
            { english: "Polite way to ask to stop: Right here is great, thanks.", phonetic: "right here is great, thanks", portuguese: "Maneira educada de pedir para parar: Aqui est√° √≥timo, obrigado." },

            // Slang for "Deixe de drama" (English on front, Portuguese on back)
            { english: "Get over yourself.", phonetic: "", portuguese: "üáßüá∑ \"Deixe de drama\"" },

            // Goodbye alternative (English on front, phonetic, Portuguese on back)
            { english: "Goodbye (Alternative)", phonetic: "Catch you later - (Cathilarer)", portuguese: "Tchau (Alternativa)" },

            // Finger names (with explicit phonetics - English on front, phonetic, Portuguese on back)
            { english: "Girl", phonetic: "‚ú® G√¢rl ‚ú®", portuguese: "Garota" },
            { english: "Closet", phonetic: "‚ú® Kl√≥-z√™ ‚ú®", portuguese: "Arm√°rio" },
            { english: "Muscle", phonetic: "‚ú® M√£-ssoul ‚ú®", portuguese: "M√∫sculo" },
            { english: "World", phonetic: "‚ú® U√£rld ‚ú®", portuguese: "Mundo" },
            { english: "Clothes", phonetic: "‚ú® Cl√¥-ts ‚ú®", portuguese: "Roupas" },
            { english: "Salad", phonetic: "‚ú® S√©-led ‚ú®", portuguese: "Salada" },

            // --- Novas Frases para pedir clarifica√ß√£o e tempo --- (English on front, Portuguese on back)
            // Frases para pedir para a pessoa repetir ou falar mais devagar:
            { english: "Can you say that again?", phonetic: "Can you say that again?", portuguese: "Voc√™ pode repetir isso?" },
            { english: "Could you speak a little slower?", phonetic: "Could you speak a little slower?", portuguese: "Voc√™ pode falar um pouco mais devagar?" },
            { english: "Sorry, I didn‚Äôt catch that.", phonetic: "Sorry, I didn‚Äôt catch that.", portuguese: "Desculpe, n√£o entendi isso." },
            { english: "Can you explain that again?", phonetic: "Can you explain that again?", portuguese: "Voc√™ pode explicar isso novamente?" },

            // Frases para admitir que n√£o entendeu algo:
            { english: "Sorry, I didn‚Äôt understand that part.", phonetic: "Sorry, I didn‚Äôt understand that part.", portuguese: "Desculpe, n√£o entendi essa parte." },
            { english: "I‚Äôm not sure I understand.", phonetic: "I‚Äôm not sure I understand.", portuguese: "N√£o tenho certeza se entendi." },
            { english: "I didn‚Äôt understand what you said.", phonetic: "I didn't understand what you said.", portuguese: "Eu n√£o entendi o que voc√™ disse." },
            { english: "Could you explain that in a different way?", phonetic: "Could you explain that in a different way?", portuguese: "Voc√™ pode explicar isso de uma forma diferente?" },

            // Frases para pedir ajuda ou mais informa√ß√µes:
            { english: "Could you give me an example?", phonetic: "Could you give me an example?", portuguese: "Voc√™ pode me dar um exemplo?" },
            { english: "What does [word] mean?", phonetic: "What does [word] mean?", portuguese: "O que significa [palavra]?" },
            { english: "I‚Äôm still learning, sorry.", phonetic: "I'm still learning, sorry.", portuguese: "Ainda estou aprendendo, desculpe." },
            { english: "Can you help me with this word?", phonetic: "Can you help me with this word?", portuguese: "Voc√™ pode me ajudar com essa palavra?" },

            // Frases para pedir tempo para pensar:
            { english: "Let me think for a second.", phonetic: "Let me think for a second.", portuguese: "Deixe-me pensar por um segundo." },
            { english: "Give me a moment to think.", phonetic: "Give me a moment to think.", portuguese: "Me d√™ um momento para pensar." },
            { english: "I need a moment to think.", phonetic: "I need a moment to think.", portuguese: "Eu preciso de um momento para pensar." },

            // Frases para pedir para a pessoa repetir o que foi dito: (Repeti√ß√µes, mas com contexto diferente)
            { english: "Sorry, I didn‚Äôt hear you well.", phonetic: "Sorry, I didn‚Äôt hear you well.", portuguese: "Desculpe, n√£o te ouvi bem." },
            { english: "Could you say that more clearly?", phonetic: "Could you say that more clearly?", portuguese: "Voc√™ pode falar isso de forma mais clara?" },
            { english: "I missed that, could you say it again?", phonetic: "I missed that, could you say it again?", portuguese: "Eu perdi isso, voc√™ pode dizer de novo?" }
        ];

        let currentCardIndex = 0;
        const flashcard = document.getElementById('flashcard');
        const flashcardFront = document.getElementById('flashcard-front');
        const flashcardBack = document.getElementById('flashcard-back');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const cardCounter = document.getElementById('card-counter');
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const htmlElement = document.documentElement;

        // Function to shuffle an array (Fisher-Yates shuffle)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
        }

        /**
         * Updates the card counter display.
         */
        function updateCardCounter() {
            cardCounter.textContent = `${currentCardIndex + 1} de ${flashcards.length}`;
        }

        /**
         * Displays the flashcard content for the given index.
         * @param {number} index - The index of the card to display.
         */
        function displayCard(index) {
            if (index >= 0 && index < flashcards.length) {
                // Ensure card is not flipped when displaying new content
                flashcard.classList.remove('flipped');
                
                // Use a small delay to ensure the flip animation completes
                // before updating content if it was flipped.
                setTimeout(() => {
                    flashcardFront.innerHTML = `
                        <div>${flashcards[index].english}</div>
                        <div class="phonetic-text">${flashcards[index].phonetic || ''}</div>
                    `;
                    flashcardBack.textContent = flashcards[index].portuguese;
                    updateCardCounter(); // Update counter after displaying card
                }, flashcard.classList.contains('flipped') ? 300 : 0); // Adjust delay if needed
            }
        }

        /**
         * Toggles the 'flipped' class on the flashcard to show front/back.
         */
        function flipCard() {
            flashcard.classList.toggle('flipped');
        }

        /**
         * Navigates to the next flashcard in the array.
         * Wraps around to the beginning if at the last card.
         */
        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % flashcards.length;
            displayCard(currentCardIndex);
        }

        /**
         * Navigates to the previous flashcard in the array.
         * Wraps around to the end if at the first card.
         */
        function prevCard() {
            currentCardIndex = (currentCardIndex - 1 + flashcards.length) % flashcards.length;
            displayCard(currentCardIndex);
        }

        /**
         * Toggles between light and dark themes.
         */
        function toggleTheme() {
            if (htmlElement.classList.contains('light')) {
                htmlElement.classList.remove('light');
                htmlElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                themeIcon.textContent = 'üåô'; // Moon icon for dark mode
            } else {
                htmlElement.classList.remove('dark');
                htmlElement.classList.add('light');
                localStorage.setItem('theme', 'light');
                themeIcon.textContent = '‚òÄÔ∏è'; // Sun icon for light mode
            }
        }

        // Event Listeners
        flashcard.addEventListener('click', flipCard);
        nextBtn.addEventListener('click', nextCard);
        prevBtn.addEventListener('click', prevCard);
        themeToggle.addEventListener('click', toggleTheme);

        // Initial setup when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Set initial theme based on localStorage or system preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                htmlElement.classList.remove('light', 'dark'); // Remove any default classes
                htmlElement.classList.add(savedTheme);
                themeIcon.textContent = savedTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                // If no saved theme, check system preference
                htmlElement.classList.remove('light'); // Ensure light is not present
                htmlElement.classList.add('dark');
                themeIcon.textContent = 'üåô';
            } else {
                 htmlElement.classList.add('light'); // Default to light if no preference
                 themeIcon.textContent = '‚òÄÔ∏è';
            }

            shuffleArray(flashcards); // Embaralha os flashcards uma vez
            displayCard(currentCardIndex); // Display the first shuffled card
        });
    </script>
</body>
</html>
